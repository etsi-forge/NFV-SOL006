<nfv xmlns="urn:etsi:nfv:yang:etsi-nfv-descriptors">
  <vnfd>
    <id>complex-vnf</id>
    <provider>My Company</provider>
    <product-name>complex-vnf</product-name>
    <software-version>1.0</software-version>
    <version>1.0</version>
    <vnfm-info>netconf</vnfm-info>
    <vdu>
      <id>control-plane-active</id>
      <name>control-plane-active</name>
      <int-cpd>
        <id>internal</id>
        <int-virtual-link-desc>internal-vl</int-virtual-link-desc>
        <layer-protocol>ipv4</layer-protocol>
      </int-cpd>
      <int-cpd>
        <id>mgmt</id>
        <int-virtual-link-desc>mgmt</int-virtual-link-desc>
        <layer-protocol>ipv4</layer-protocol>
      </int-cpd>
      <virtual-compute-desc>CP</virtual-compute-desc>
      <virtual-storage-desc>root</virtual-storage-desc>
      <sw-image-desc>CP</sw-image-desc>
    </vdu>
    <vdu>
      <id>control-plane-standby</id>
      <name>control-plane-standby</name>
      <int-cpd>
        <id>internal</id>
        <int-virtual-link-desc>internal-vl</int-virtual-link-desc>
        <layer-protocol>ipv4</layer-protocol>
      </int-cpd>
      <int-cpd>
        <id>mgmt</id>
        <int-virtual-link-desc>mgmt</int-virtual-link-desc>
        <layer-protocol>ipv4</layer-protocol>
      </int-cpd>
      <virtual-compute-desc>CP</virtual-compute-desc>
      <virtual-storage-desc>root</virtual-storage-desc>
      <sw-image-desc>CP</sw-image-desc>
    </vdu>
    <vdu>
      <id>data-plane</id>
      <name>data-plane</name>
      <int-cpd>
        <id>in</id>
        <layer-protocol>ipv4</layer-protocol>
      </int-cpd>
      <int-cpd>
        <id>internal</id>
        <int-virtual-link-desc>internal-vl</int-virtual-link-desc>
        <layer-protocol>ipv4</layer-protocol>
      </int-cpd>
      <int-cpd>
        <id>out</id>
        <layer-protocol>ipv4</layer-protocol>
      </int-cpd>
      <virtual-compute-desc>DP</virtual-compute-desc>
      <virtual-storage-desc>root</virtual-storage-desc>
      <sw-image-desc>DP</sw-image-desc>
    </vdu>
    <virtual-compute-desc>
      <id>CP</id>
      <virtual-memory>
        <size>16.0</size>
      </virtual-memory>
      <virtual-cpu>
        <num-virtual-cpu>8</num-virtual-cpu>
      </virtual-cpu>
    </virtual-compute-desc>
    <virtual-compute-desc>
      <id>DP</id>
      <virtual-memory>
        <size>32.0</size>
      </virtual-memory>
      <virtual-cpu>
        <num-virtual-cpu>16</num-virtual-cpu>
      </virtual-cpu>
    </virtual-compute-desc>
    <virtual-storage-desc>
      <id>root</id>
      <type-of-storage>block</type-of-storage>
      <block-storage-data>
	<size-of-storage>10</size-of-storage>
	<rdma-enabled>true</rdma-enabled>
	<sw-image-desc>CP</sw-image-desc>
      </block-storage-data>
    </virtual-storage-desc>
    <sw-image-desc>
      <id>CP</id>
      <name>CP</name>
      <version>1.1</version>
      <checksum>
	<algorithm>sha-224</algorithm>
	<hash>deadbeef</hash>
      </checksum>
      <container-format>bare</container-format>
      <disk-format>qcow2</disk-format>
      <min-disk>1</min-disk>
      <min-ram>2.0</min-ram>
      <size>1</size>
      <image>http://mycompany.images.com/control-plane.qcow2</image>
    </sw-image-desc>
    <sw-image-desc>
      <id>DP</id>
      <name>DP</name>
      <version>1.1</version>
      <checksum>
	<algorithm>sha-224</algorithm>
	<hash>deadbeef</hash>
      </checksum>
      <container-format>bare</container-format>
      <disk-format>qcow2</disk-format>
      <min-disk>1</min-disk>
      <min-ram>2.0</min-ram>
      <size>1</size>
      <image>http://mycompany.images.com/data-plane.qcow2</image>
    </sw-image-desc>
    <int-virtual-link-desc>
      <id>internal-vl</id>
      <connectivity-type>
        <layer-protocol>ipv4</layer-protocol>
      </connectivity-type>
      <nfvi-maintenance-info>
	<impact-notification-lead-time>1</impact-notification-lead-time>
      </nfvi-maintenance-info>
    </int-virtual-link-desc>
    <int-virtual-link-desc>
      <id>mgmt</id>
      <connectivity-type>
        <layer-protocol>ipv4</layer-protocol>
      </connectivity-type>
      <nfvi-maintenance-info>
	<impact-notification-lead-time>1</impact-notification-lead-time>
      </nfvi-maintenance-info>
    </int-virtual-link-desc>
    <ext-cpd>
      <id>in</id>
      <int-cpd>
        <vdu-id>data-plane</vdu-id>
        <cpd>in</cpd>
      </int-cpd>
      <layer-protocol>ipv4</layer-protocol>
    </ext-cpd>
    <ext-cpd>
      <id>mgmt</id>
      <int-virtual-link-desc>mgmt</int-virtual-link-desc>
      <layer-protocol>ipv4</layer-protocol>
    </ext-cpd>
    <ext-cpd>
      <id>out</id>
      <int-cpd>
        <vdu-id>data-plane</vdu-id>
        <cpd>out</cpd>
      </int-cpd>
      <layer-protocol>ipv4</layer-protocol>
    </ext-cpd>
    <df>
      <id>gold</id>
      <vdu-profile>
        <id>control-plane-active</id>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>1</max-number-of-instances>
        <affinity-or-anti-affinity-group-id>control-plane</affinity-or-anti-affinity-group-id>
	<nfvi-maintenance-info>
	  <impact-notification-lead-time>1</impact-notification-lead-time>
	</nfvi-maintenance-info>
      </vdu-profile>
      <vdu-profile>
        <id>control-plane-standby</id>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>1</max-number-of-instances>
        <affinity-or-anti-affinity-group-id>control-plane</affinity-or-anti-affinity-group-id>
	<nfvi-maintenance-info>
	  <impact-notification-lead-time>1</impact-notification-lead-time>
	</nfvi-maintenance-info>
      </vdu-profile>
      <vdu-profile>
        <id>data-plane</id>
        <min-number-of-instances>2</min-number-of-instances>
        <max-number-of-instances>8</max-number-of-instances>
	<nfvi-maintenance-info>
	  <impact-notification-lead-time>1</impact-notification-lead-time>
	</nfvi-maintenance-info>
      </vdu-profile>
      <instantiation-level>
        <id>il-1</id>
        <vdu-level>
          <vdu-id>control-plane-active</vdu-id>
          <number-of-instances>1</number-of-instances>
        </vdu-level>
        <vdu-level>
          <vdu-id>control-plane-standby</vdu-id>
          <number-of-instances>1</number-of-instances>
        </vdu-level>
        <vdu-level>
          <vdu-id>data-plane</vdu-id>
          <number-of-instances>2</number-of-instances>
        </vdu-level>
      </instantiation-level>
      <instantiation-level>
        <id>il-2</id>
        <vdu-level>
          <vdu-id>control-plane-active</vdu-id>
          <number-of-instances>1</number-of-instances>
        </vdu-level>
        <vdu-level>
          <vdu-id>control-plane-standby</vdu-id>
          <number-of-instances>1</number-of-instances>
        </vdu-level>
        <vdu-level>
          <vdu-id>data-plane</vdu-id>
          <number-of-instances>4</number-of-instances>
        </vdu-level>
      </instantiation-level>
      <default-instantiation-level>il-1</default-instantiation-level>
      <lcm-operations-configuration>
	<scale-vnf-to-level-op-config>
	  <arbitrary-target-levels-supported>true</arbitrary-target-levels-supported>
	</scale-vnf-to-level-op-config>
	<terminate-vnf-op-config>
	  <min-graceful-termination>1</min-graceful-termination>
	</terminate-vnf-op-config>
	<operate-vnf-op-config>
	  <min-graceful-stop-timeout>1</min-graceful-stop-timeout>
	</operate-vnf-op-config>
	<create-snapshot-vnf-op-config>
	  <parameter>
	    <key>1</key>
	    <value>1</value>
	  </parameter>
	</create-snapshot-vnf-op-config>
	<revert-to-snapshot-vnf-op-config>
	  <parameter>
	    <key>1</key>
	    <value>1</value>
	  </parameter>
	</revert-to-snapshot-vnf-op-config>
      </lcm-operations-configuration>
      <affinity-or-anti-affinity-group>
        <id>control-plane</id>
        <affinityorAntiaffinity>anti-affinity</affinityorAntiaffinity>
        <scope>nfvi-node</scope>
      </affinity-or-anti-affinity-group>
    </df>
    <df>
      <id>silver</id>
      <vdu-profile>
        <id>control-plane-active</id>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>1</max-number-of-instances>
        <affinity-or-anti-affinity-group-id>control-plane</affinity-or-anti-affinity-group-id>
	<nfvi-maintenance-info>
	  <impact-notification-lead-time>1</impact-notification-lead-time>
	</nfvi-maintenance-info>
      </vdu-profile>
      <vdu-profile>
        <id>control-plane-standby</id>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>1</max-number-of-instances>
        <affinity-or-anti-affinity-group-id>control-plane</affinity-or-anti-affinity-group-id>
	<nfvi-maintenance-info>
	  <impact-notification-lead-time>1</impact-notification-lead-time>
	</nfvi-maintenance-info>
      </vdu-profile>
      <vdu-profile>
        <id>data-plane</id>
        <min-number-of-instances>1</min-number-of-instances>
        <max-number-of-instances>4</max-number-of-instances>
	<nfvi-maintenance-info>
	  <impact-notification-lead-time>1</impact-notification-lead-time>
	</nfvi-maintenance-info>
      </vdu-profile>
      <instantiation-level>
        <id>il-1</id>
        <vdu-level>
          <vdu-id>control-plane-active</vdu-id>
          <number-of-instances>1</number-of-instances>
        </vdu-level>
        <vdu-level>
          <vdu-id>control-plane-standby</vdu-id>
          <number-of-instances>1</number-of-instances>
        </vdu-level>
        <vdu-level>
          <vdu-id>data-plane</vdu-id>
          <number-of-instances>1</number-of-instances>
        </vdu-level>
      </instantiation-level>
      <instantiation-level>
        <id>il-2</id>
        <vdu-level>
          <vdu-id>control-plane-active</vdu-id>
          <number-of-instances>1</number-of-instances>
        </vdu-level>
        <vdu-level>
          <vdu-id>control-plane-standby</vdu-id>
          <number-of-instances>1</number-of-instances>
        </vdu-level>
        <vdu-level>
          <vdu-id>data-plane</vdu-id>
          <number-of-instances>2</number-of-instances>
        </vdu-level>
      </instantiation-level>
      <default-instantiation-level>il-1</default-instantiation-level>
      <lcm-operations-configuration>
	<scale-vnf-to-level-op-config>
	  <arbitrary-target-levels-supported>true</arbitrary-target-levels-supported>
	</scale-vnf-to-level-op-config>
	<terminate-vnf-op-config>
	  <min-graceful-termination>1</min-graceful-termination>
	</terminate-vnf-op-config>
	<operate-vnf-op-config>
	  <min-graceful-stop-timeout>1</min-graceful-stop-timeout>
	</operate-vnf-op-config>
	<create-snapshot-vnf-op-config>
	  <parameter>
	    <key>1</key>
	    <value>1</value>
	  </parameter>
	</create-snapshot-vnf-op-config>
	<revert-to-snapshot-vnf-op-config>
	  <parameter>
	    <key>1</key>
	    <value>1</value>
	  </parameter>
	</revert-to-snapshot-vnf-op-config>
      </lcm-operations-configuration>
      <affinity-or-anti-affinity-group>
        <id>control-plane</id>
        <affinityorAntiaffinity>anti-affinity</affinityorAntiaffinity>
        <scope>nfvi-node</scope>
      </affinity-or-anti-affinity-group>
    </df>
  </vnfd>
</nfv>
